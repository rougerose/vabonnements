function vabonnements(e){var n="js-fa-offres-",a=e.find("> form"),t=a.find('input[type="radio"]'),f=t.filter('input[name="localisation"]'),i=t.filter('input[name="duree"]'),s=a.find(".editer_abonnements_offre"),r=s.find(".fa-offres"),o=s.find(".fa-offre"),l=!0;a.addClass("js-form"),t.change(function(){toggleInput($(this),o,l)});var c=getValeur(f),g=getValeur(i),u=n+c+"-"+g;t.each(function(){$(this).prop("checked")&&toggleInput($(this),o,l)}),toggleAffichageOffres(u,r,l);l=!1;f.change(function(){var e=$(this).val(),a=getValeur(i),t=n+e+"-"+a;s.trigger("afficherGroupeOffres",t)}),i.change(function(){var e=$(this).val(),a=getValeur(f),t=n+a+"-"+e;s.trigger("afficherGroupeOffres",t)}),s.on("afficherGroupeOffres",function(e,a){toggleAffichageOffres(a,r,l)})}function toggleInput(e,a,t){var n=".fa__choix",f="is-selected";!0===t?e.parents(n).toggleClass(f):("abonnement_offre"==e.attr("name")&&a.removeClass(f),e.parents(n).toggleClass(f).siblings().removeClass(f))}function toggleAffichageOffres(t,e,n){var f=null,i=null,s="is-stacked";e.each(function(e){var a=$(this);a.css("opacity");!0===n?a.hasClass(t)?a.show().animate({opacity:1}):a.hide().addClass(s):a.hasClass(t)?f=e:a.is(":visible")&&(i=e)}),!1===n&&(e.eq(i).animate({opacity:0},100).addClass(s).hide(),e.eq(f).show().removeClass(s).animate({opacity:1},500))}function getValeur(e){return $val="",e.each(function(){$el=$(this),$el.prop("checked")&&($val=$el.val())}),$val}