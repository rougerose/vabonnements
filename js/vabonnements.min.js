function vabonnements(e){var s="js-fsa-offres-",a=e.find("> form"),f=a.find('input[type="radio"]'),t=f.filter('input[name="region"]'),n=f.filter('input[name="duree"]'),i=a.find(".fieldset_fsabonnements_offre"),r=i.find(".fsa-offres"),o=i.find(".fsa-offre"),l=!0;a.addClass(".js-form"),f.change(function(){toggleInput($(this),o,l)});var c=getValeur(t),g=getValeur(n),u=s+c+"-"+g;f.each(function(){$(this).prop("checked")&&toggleInput($(this),o,l)}),toggleAffichageOffres(u,r,l);l=!1;t.change(function(){var e=$(this).val(),a=getValeur(n),f=s+e+"-"+a;i.trigger("afficherGroupeOffres",f)}),n.change(function(){var e=$(this).val(),a=getValeur(t),f=s+a+"-"+e;i.trigger("afficherGroupeOffres",f)}),i.on("afficherGroupeOffres",function(e,a){toggleAffichageOffres(a,r,l)})}function toggleInput(e,a,f){var s=".fsa__choix",t="is-selected";!0===f?e.parents(s).toggleClass(t):("abonnements_offre"==e.attr("name")&&a.removeClass(t),e.parents(s).toggleClass(t).siblings().removeClass(t))}function toggleAffichageOffres(s,e,t){var n=null,i=null,r="is-stacked";e.each(function(e){var a=$(this),f=a.css("opacity");!0===t?a.hasClass(s)?a.show().animate({opacity:1}):a.hide().addClass(r):a.hasClass(s)?n=e:0<f&&(i=e)}),!1===t&&(e.eq(i).animate({opacity:0},100).addClass(r).hide(),e.eq(n).show().removeClass(r).animate({opacity:1},500))}function getValeur(e){return $val="",e.each(function(){$el=$(this),$el.prop("checked")&&($val=$el.val())}),$val}